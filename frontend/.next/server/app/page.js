(()=>{var e={};e.id=931,e.ids=[931],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},1825:()=>{},7554:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>c,originalPathname:()=>u,pages:()=>p,routeModule:()=>x,tree:()=>d});var o=r(7096),n=r(6132),s=r(7284),i=r.n(s),a=r(2564),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3982)),"C:\\Users\\abhij\\OneDrive\\Desktop\\video_upload_frontend\\frontend\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,5345)),"C:\\Users\\abhij\\OneDrive\\Desktop\\video_upload_frontend\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,4293)),"C:\\Users\\abhij\\OneDrive\\Desktop\\video_upload_frontend\\frontend\\app\\not-found.tsx"]}],p=["C:\\Users\\abhij\\OneDrive\\Desktop\\video_upload_frontend\\frontend\\app\\page.tsx"],u="/page",c={require:r,loadChunk:()=>Promise.resolve()},x=new o.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7366:(e,t,r)=>{Promise.resolve().then(r.bind(r,1596))},1596:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Home});var o=r(784),n=r(9885),s=r(8551);function VideoUploader({onUpload:e}){let handleUpload=async t=>{let r=t.target.files?.[0];if(!r)return;let o=new FormData;o.append("video",r);try{let t=await s.Z.post("http://localhost:5000/upload",o,{headers:{"Content-Type":"multipart/form-data"}});e(t.data.path)}catch(e){alert("Video upload failed"),console.error(e)}};return o.jsx("div",{children:o.jsx("input",{type:"file",accept:"video/*",onChange:handleUpload})})}function CaptionControls({videoPath:e,onCaptions:t,onStyleChange:r,onStart:n,onError:i}){let generate=async()=>{try{n();let r=await s.Z.post("http://localhost:5000/captions",{videoPath:e});t(r.data.captions)}catch(e){i(e?.response?.data?.error||"Failed to generate captions")}};return(0,o.jsxs)("div",{style:{marginTop:20},children:[o.jsx("button",{onClick:generate,children:"Auto-generate captions"}),(0,o.jsxs)("select",{style:{marginLeft:10},onChange:e=>r(e.target.value),children:[o.jsx("option",{value:"bottom",children:"Bottom"}),o.jsx("option",{value:"top",children:"Top"})]})]})}var i=r(3973),a=r(6268);(0,r(6966).mx)();let CaptionedVideo=({videoPath:e,captions:t,style:r})=>{let n=(0,a.ND)(),s=n/30,i=t.find(e=>s>=e.start&&s<=e.end);return(0,o.jsxs)(o.Fragment,{children:[o.jsx(a.nk,{src:e}),i&&o.jsx("div",{style:{position:"absolute",bottom:"bottom"===r?80:void 0,top:"top"===r?20:void 0,width:"100%",textAlign:"center",fontFamily:"Noto Sans Devanagari, Noto Sans, sans-serif",fontSize:42,color:"white",textShadow:"2px 2px 6px black"},children:i.text})]})};function VideoPreview({videoUrl:e,captions:t,style:r}){return o.jsx(i.J5,{component:CaptionedVideo,inputProps:{videoPath:e,captions:t,style:r},durationInFrames:300,fps:30,compositionWidth:1280,compositionHeight:720,controls:!0})}function Home(){let[e,t]=(0,n.useState)(""),[r,s]=(0,n.useState)([]),[i,a]=(0,n.useState)("bottom"),[l,d]=(0,n.useState)("idle"),[p,u]=(0,n.useState)(""),[c,x]=(0,n.useState)("");return(0,o.jsxs)("main",{style:{padding:20},children:[o.jsx("h1",{children:"\uD83C\uDFAC Remotion Captioning Platform"}),o.jsx(VideoUploader,{onUpload:e=>{t(e),s([]),x(""),d("uploading")}}),"uploading"===l&&o.jsx("p",{style:{color:"blue"},children:"✅ Video uploaded. Ready for captions."}),e&&o.jsx(CaptionControls,{videoPath:e,onStyleChange:a,onCaptions:e=>{s(e),d("ready")},onStart:()=>{d("generating"),u("")},onError:e=>{d("error"),u(e)}}),"generating"===l&&o.jsx("p",{style:{color:"orange"},children:"⏳ Generating captions… please wait"}),"rendering"===l&&o.jsx("p",{style:{color:"purple"},children:"\uD83C\uDF9E️ Rendering final video… please wait"}),"error"===l&&(0,o.jsxs)("p",{style:{color:"red"},children:["❌ ",p]}),e&&r.length>0&&"ready"===l&&(0,o.jsxs)(o.Fragment,{children:[o.jsx("h3",{children:"\uD83C\uDFA5 Preview"}),o.jsx(VideoPreview,{videoUrl:e,captions:r,style:i}),o.jsx("button",{style:{marginTop:20},onClick:async()=>{try{d("rendering");let e=await fetch("http://localhost:5000/render",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({captions:r,style:i})});if(!e.ok){let t=await e.json();throw Error(t.error||"Render failed")}let t=await e.json(),o=t.output.split("outputs/")[1];x(`http://localhost:5000/outputs/${o}`),d("done")}catch(e){d("error"),u(e.message)}},children:"\uD83C\uDF9E️ Render Final Video"})]}),"done"===l&&c&&(0,o.jsxs)(o.Fragment,{children:[o.jsx("h3",{children:"✅ Final Output Video"}),o.jsx("video",{src:c,controls:!0,style:{width:"100%",maxWidth:800}}),o.jsx("p",{children:o.jsx("a",{href:c,download:!0,children:"⬇️ Download video"})})]})]})}},3982:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>s,default:()=>l});var o=r(5153);let n=(0,o.createProxy)(String.raw`C:\Users\abhij\OneDrive\Desktop\video_upload_frontend\frontend\app\page.tsx`),{__esModule:s,$$typeof:i}=n,a=n.default,l=a}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[251,642,387],()=>__webpack_exec__(7554));module.exports=r})();